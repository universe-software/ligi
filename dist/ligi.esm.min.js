function set(e,t){for(const r in t){if(typeof t[r]=="object"&&typeof e[r]=="object"&&!Array.isArray(t[r])&&~Array.isArray(e[r]))set(e[r],t[r]);else{if(e[r]!=t[r])e[r]=t[r]}}}function list(e,t,r,n,s){e._list=s||[];return s=>{const f=s.map(t);const i=e._list.map(t);const o=[];const l=[];for(let t=0;t<e._list.length;t++){if(f.indexOf(i[t])<0){o.push(t);l.push(e.children[t])}}for(const t of o)e._list.splice(t,1);for(const t of l)e.removeChild(t);for(let t=0;t<s.length;t++){if(i.indexOf(f[t])<0)e.insertBefore(r(s[t]),e.children[t]);n(e.children[t],s[t])}e._list=Array.from(s)}}function createElement(e,t,...r){const n=document.createElement(e,t||{});if(typeof t=="object"){for(const e in t){if(e.startsWith("on"))n.addEventListener(e.substr(2),t[e]);else if(e!="is")n[e]=t[e]}}for(const e of r){if(typeof e=="string")n.appendChild(document.createTextNode(e));else n.appendChild(e)}return n}function equals(e,t){if(typeof e!=typeof t)return false;if(typeof e=="object"){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return false;for(let r=0;r<e.length;r++){if(!equals(e[r],t[r]))return false}}else{for(const r in e){if(!equals(e[r],t[r]))return false}for(const r in t){if(!equals(e[r],t[r]))return false}}return true}else return e==t}export default function $_(...e){if(typeof e[0]=="string")return createElement(...e);if(e.length==2)set(...e);else if(e.length==1&&Array.isArray(e[0])){for(const t of e[0].slice(1)){if(!equals(t,e[0][0]))return false}return true}else return list(...e)}